package conveniencia;

public class SistemaLogin {
    private UsuarioDAO usuarioDAO = new UsuarioDAO();
    
    public Usuario fazerLogin(String usuario, String senha) {
        return usuarioDAO.buscarPorCredenciais(usuario, senha);
    }
    
    public boolean cadastrarNovoUsuario(String nome, String usuario, String senha, String tipo) {
        try {
            Usuario novoUsuario;
            if (tipo.equalsIgnoreCase("ADMIN")) {
                novoUsuario = new Administrador(0, nome, usuario, senha);
            } else {
                novoUsuario = new Vendedor(0, nome, usuario, senha);
            }
            
            usuarioDAO.cadastrarUsuario(novoUsuario, tipo);
            return true;
        } catch (Exception e) {
            System.err.println("Erro ao cadastrar usu√°rio: " + e.getMessage());
            return false;
        }
    }
}
